; simple class and method
(class counter
  (field value 0)
  (method (increment)
    (set-field value self (self.value.succ)))
  (method (reset)
    (set-field value self 0))
)
(set c (new counter))
;; 2d stress test
(set i 0)
(while (< i 1000) {
  (set j 0)
  (c.reset)
  (while (< j 10000) {
    (c.increment)
    (set j (j.succ))
  })
  (set i (i.succ))
})
c.value
